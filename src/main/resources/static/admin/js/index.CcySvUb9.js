import{d as e,aA as a,as as s,aF as l,r,au as o,c as n,g as t,C as i,m as u,aq as d,i as m,w as p,a6 as c,f as g,F as f,az as v,E as h,a0 as w,j as _,a1 as y,aD as x}from"./index.D3U1y9Br.js";import{E as V,a as b}from"./el-form-item.DeXlKUDQ.js";import{E as j}from"./el-button.9A5t01iD.js";import{E,c as k}from"./el-input.9NsVhJGN.js";import{E as q}from"./el-switch.CregbehB.js";import{_ as K}from"./_plugin-vue_export-helper.BCo6x5W8.js";const U={class:"login"},z={class:"login-header"},A={class:"flex-y-center"},C={class:"login-form"},D={class:"form-title"},L={class:"input-wrapper"},R={class:"input-wrapper"},$=K(e({__name:"index",setup(e){const K=a(),$=s(),{t:F}=l(),I=r(),M=r($.theme===o.DARK),S=r(!1),T=r(!1),G=r({username:"",password:""}),H=n((()=>({username:[{required:!0,trigger:"blur",message:F("login.message.username.required")}],password:[{required:!0,trigger:"blur",message:F("login.message.password.required")},{min:6,message:F("login.message.password.min"),trigger:"blur"}]})));async function B(){var e;null==(e=I.value)||e.validate((e=>{e&&(S.value=!0,K.login(G.value).then((async()=>{await K.getUserInfo(),x.push({path:"/"})})).finally((()=>{S.value=!1})))}))}const J=()=>{const e=$.theme===o.DARK?o.LIGHT:o.DARK;$.changeTheme(e)};function N(e){e instanceof KeyboardEvent&&(T.value=e.getModifierState("CapsLock"))}return(e,a)=>{const s=q,l=c("User"),r=h,o=E,n=b,x=c("Lock"),K=k,$=j,F=V;return g(),t("div",U,[i("div",z,[i("div",A,[u(s,{modelValue:m(M),"onUpdate:modelValue":a[0]||(a[0]=e=>d(M)?M.value=e:null),"inline-prompt":"","active-icon":"Moon","inactive-icon":"Sunny",onChange:J},null,8,["modelValue"])])]),i("div",C,[u(F,{ref_key:"loginFormRef",ref:I,model:m(G),rules:m(H)},{default:p((()=>[i("div",D,[i("h2",null,f(m(v).title),1)]),u(n,{prop:"username"},{default:p((()=>[i("div",L,[u(r,{class:"mx-2"},{default:p((()=>[u(l)])),_:1}),u(o,{ref:"username",modelValue:m(G).username,"onUpdate:modelValue":a[1]||(a[1]=e=>m(G).username=e),placeholder:e.$t("login.username"),name:"username",size:"large",class:"h-[48px]"},null,8,["modelValue","placeholder"])])])),_:1}),u(K,{visible:m(T),content:e.$t("login.capsLock"),placement:"right"},{default:p((()=>[u(n,{prop:"password"},{default:p((()=>[i("div",R,[u(r,{class:"mx-2"},{default:p((()=>[u(x)])),_:1}),u(o,{modelValue:m(G).password,"onUpdate:modelValue":a[2]||(a[2]=e=>m(G).password=e),placeholder:e.$t("login.password"),type:"password",name:"password",size:"large",class:"h-[48px] pr-2","show-password":"",onKeyup:[N,w(B,["enter"])]},null,8,["modelValue","placeholder"])])])),_:1})])),_:1},8,["visible","content"]),u($,{loading:m(S),type:"primary",size:"large",class:"w-full",onClick:_(B,["prevent"])},{default:p((()=>[y(f(e.$t("login.login")),1)])),_:1},8,["loading"])])),_:1},8,["model","rules"])])])}}}),[["__scopeId","data-v-79e60a86"]]);export{$ as default};
